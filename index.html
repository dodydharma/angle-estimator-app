<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Angle Estimator</title>
		<link rel="stylesheet" href="css/index.css">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/colorPick.css">
		<link rel="stylesheet" href="css/colorPick.dark.theme.css">
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css">
		<!--  Script for the Application-->
		<!--  User Interaction Lib -->
		<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
		<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
		<script src="js/colorPick.js"></script>
		<!--  Math Lib-->
		<script src="https://cdn.jsdelivr.net/npm/mathjs@12.4.2/lib/browser/math.min.js"></script>
		<!--  Drawing Lib-->
		<script src="https://unpkg.com/konva@9/konva.min.js"></script>

	</head>
	<body>
		<div >
<!--			<header>-->
<!--				<h1>Electron boilerplate</h1>-->
<!--				<p></p>-->
<!--				</header>-->

			<section class="main">
				<div>
					<input type="file" id="file_input">
					    <div id="slider">
					      <div id="custom-handle" class="ui-slider-handle"></div>
					    </div>
					<form id="drawmode">
						<fieldset>
							<div class="picker" id="picker"></div>
							<label><input type="radio" name="drawmode" value="line"  checked/> Line</label>
							<label><input type="radio" name="drawmode" value="point" /> Point</label>
							<label><input type="radio" name="drawmode" value="circle" /> Circle</label>
							<label><input type="radio" name="drawmode" value="delete" /> delete</label>
							<!--        <input type="submit" value="&#9100; undo" id="undo" style="margin-left: 50px">-->
							<div id="buttons"><button id="save">Save as image</button></div>
							<div id="buttons2"><button id="showProtocolA">Protocol A</button></div>
							<div id="buttons3"><button id="showProtocolB">Protocol B</button></div>

						</fieldset>
					</form>
				</div>
				<div id="container"></div>
				<div id="protocolA" title="PROTOCOL A - Coronal Plane Alignment Measurement Protocol" >
					<b>Mechanical Distal Femoral Angle (mDFA)</b>
					<ol>
						<li>Insert a CT-scan image of “Standing Hip-to-Ankle Radiographs”.</li>
						<li>Click a point at the Most Distal Point of the Medial Femoral Condyle Convexity <strong>(Point-A)</strong>.</li>
						<li>Click a point at the Most Distal Point of the Lateral Femoral Condyle Convexity <strong>(Point-B)</strong>.</li>
						<li>Draw a line connecting Point-A to Point-B as the Femoral Knee Joint Orientation Line <strong>(Line-1)</strong>.</li>
						<li>Click a point at the Apex of the Intercondylar Notch <strong>(Point-C)</strong>.</li>
						<li>Draw and fit a circle around the Femoral Head <strong>(Centre Point-D)</strong>.</li>
						<li>Draw a line from Point-D to Point-C, intersecting Line-1, as the Mechanical Axis of Femur <strong>(Line-2)</strong>.</li>
						<li>Mechanical Distal Femoral Angle <strong>(mDFA)</strong>” is calculated as an angle between Line-1 and Line-2.</li>
					</ol>

					<b>Mechanical Proximal Tibial Angle (mPTA)</b>
					<ol>
						<li>Click a point at the Medial Limit of the Talar Dome Articular Surface <strong>(Point-E)</strong>.</li>
						<li>Click a point at the Lateral Limit of the Talar Dome Articular Surface <strong>(Point-F)</strong>.</li>
						<li>Draw a line connecting Point-E to Point-F as the Tibial Knee Joint Orientation Line <strong>(Line-3)</strong>.</li>
						<li>Click a point at the Medial Limit of The Medial Tibial Plateau, while avoiding osteophytes/bone spur <strong>(Point-G)</strong>.</li>
						<li>Click a point at the Lateral Limit of The Medial Tibial Plateau, while avoiding osteophytes/bone spur <strong>(Point-H)</strong>.</li>
						<li>Draw a line connecting Point-G to Point-H as the Tibial Knee Joint Orientation Line <strong>(Line-4)</strong>.</li>
						<li>Draw a line from midpoint Line-3 to midpoint Line-4 (intersecting the line). </li>
						<li>Mechanical Proximal Tibial Angle <strong>(mPTA)</strong>” is calculated as an angle between Line-3 and Line-4.</li>
					</ol>

				</div>
				<div id="protocolB" title="PROTOCOL B - Posterior Tibial Slope Measurement Protocol.">
					<ol>
						<li>Insert a CT-scan image of “Knee-to-Ankle (Lower Leg) Radiographs”. </li>
						<li> Click a point at the Anterior Limit of the Concavity of the Medial Tibial Plateau, while avoiding osteophytes/bone spur<strong>(Point-A)</strong>. </li>
						<li> Click a point at the Posterior Limit of the Concavity of the Medial Tibial Plateau, while avoiding osteophytes/bone spur <strong>(Point-B)</strong>.</li>
						<li> Draw a line from Point-A to Point-B as the Knee Joint Orientation Line (Line-1).</li>
						<li> Draw and fit a circle at Just Proximal to the Distal Tibial Metaphyseal Flare, so that simultaneously tangent to the anterior and posterior outer cortices <strong>(Centre Point-C)</strong>.</li>
						<li> Draw and fit a circle at Just Distal to the Tibial Tuberosity, so that simultaneously tangent to the anterior and posterior outer cortices <strong>(Centre Point-D)</strong>.</li>
						<li> Draw a line from Point-C to Line-1, intersecting Point-D as the Central Anatomical Axis (Line-2).</li>
						<li> Anatomical Posterior Proximal Tibial Angle (aPPTA) is calculated as an acute angle between Line-1 and Line-2. Also, Posterior Tibial Slope (PTS)” can be obtained by<strong> [PTS = 90° – aPPTA]</strong>.</li>
						<li> Click a point at the Anterior Limit of the Concavity of the Tibial Plafond <strong>(Point-E)</strong>.</li>
						<li> Click a point at the Posterior Limit of the Concavity of the Tibial Plafond <strong>(Point-F)</strong>.</li>
						<li> Draw a line from Point-E to Point-F<strong> (Line-3)</strong>.</li>
						<li> Draw and fit a circle at Just Proximal to Mid-Tibial Length, so that simultaneously tangent to the anterior and posterior outer cortices <strong>(Centre Point-G)</strong>.</li>
						<li> Draw a line from Point-G to Line-1, intersecting Point-D as the Proximal Anatomical Axis <strong>(Line-4)</strong>.</li>
						<li> Anatomical Posterior Proximal Tibial Angle to the Proximal Anatomical Axis <strong>(paPPTA)</strong>” is calculated as an acute angle between Line-1 and Line-4. Also, the Posterior Tibial Slope II (paPTS) can be obtained by <strong>[paPTS = 90° – paPPTA]</strong>.</li>
					</ol>
				</div>
			</section>
			<footer></footer>
		</div>
		<div id="preview" class="ui-widget-content"></div>
<!--		<p id="info"></p>-->
	</body>
	<script src="js/renderer.js"></script>
</html>
